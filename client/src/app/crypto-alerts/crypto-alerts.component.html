<div class="alert-card" *ngFor="let alert of alerts; index as i">
  <img
    [src]="alert.crypto.image"
    alt="{{ alert.crypto.name }}"
    class="crypto-logo"
  />
  <h2>{{ alert.crypto.name }}</h2>
  <p>Current Price: {{ alert.crypto.current_price }}</p>
  <p>24h Change: {{ alert.crypto.price_change_percentage_24h }}%</p>
  <app-alert
    [message]="'Alert set at price ' + alert.price"
    (dismiss)="dismissAlert(i)"
  ></app-alert>
</div>

<form [formGroup]="alertForm" (ngSubmit)="onSubmit()">
  <div>
    <label for="crypto">Cryptocurrency:</label>
    <select id="crypto" formControlName="crypto">
      <option *ngFor="let crypto of cryptos" [value]="crypto.id">
        {{ crypto.name }}
      </option>
    </select>
  </div>
  <div>
    <label for="price">Price:</label>
    <input id="price" type="number" formControlName="price" />
  </div>
  <button type="submit">Set Alert</button>
</form>

<div class="alerts" *ngFor="let alert of alerts">
  <p>Alert set for {{ alert.crypto }} at price {{ alert.price }}</p>
</div>
